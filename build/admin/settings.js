!function(){"use strict";var e,t={480:function(e,t,a){var n=window.wp.element,r=window.wp.components,l=window.React,o=window.lodash,i=window.wp.apiFetch,s=a.n(i),u=window.wp.i18n,c=(e,t)=>{let a=Object.assign({},e);switch(t.type){case"FETCH_SETTINGS":a.fetchedSettings=t.payload.fetchedSettings,a.stateSettings=t.payload.stateSettings,a.isPending=!1,a.canSave=!1,void 0!==t.payload.fetchedSettings.ai_alt_text_generator_options_fetch_settings_errors&&(a.notice=(0,u.__)("An error occurred.","ai-alt-text-generator"),a.hasError=!0);break;case"UPDATE_SETTINGS_BEFORE":a.isPending=t.payload.isPending;break;case"UPDATE_SETTINGS":a.fetchedSettings=t.payload.fetchedSettings,a.stateSettings=t.payload.stateSettings,a.isPending=!1;let e=!1,n=(0,u.__)("Saved Successfully.","ai-alt-text-generator"),r=!1;void 0!==t.payload.fetchedSettings.ai_alt_text_generator_options_update_settings_errors&&(e=!0,n=(0,u.__)("An error occurred.","ai-alt-text-generator"),r=!0),a.canSave=e,a.notice=n,a.hasError=r;break;case"UPDATE_STATE":t.payload.fetchedSettings&&(a.fetchedSettings=t.payload.fetchedSettings),t.payload.stateSettings&&(a.stateSettings=t.payload.stateSettings),void 0!==t.payload.isPending&&(a.isPending=t.payload.isPending),void 0!==t.payload.notice&&(a.notice=t.payload.notice),void 0!==t.payload.hasError&&(a.hasError=t.payload.hasError),void 0!==t.payload.canSave&&(a.canSave=t.payload.canSave)}return a},h=window.ReactJSXRuntime;const d=(0,l.createContext)();var p,g=e=>{const[t,a]=(0,l.useReducer)(c,{fetchedSettings:{},stateSettings:{},isPending:!0,notice:"",hasError:"",canSave:!1}),n=async()=>{try{const e=await(async()=>{try{const e=await s()({path:"wp/v2/settings",method:"GET"});return e&&e.aatg_text_generator_options?e.aatg_text_generator_options:e}catch(e){return console.error("fetchSettings Errors:",e),{ai_alt_text_generator_options_fetch_settings_errors:!0}}})();a({type:"FETCH_SETTINGS",payload:{fetchedSettings:e,stateSettings:e}})}catch(e){console.error("Fetch settings error:",e)}},r=e=>{a({type:"UPDATE_STATE",payload:e})};(0,l.useEffect)((()=>{n()}),[]);const i={useDispatch:e=>{a(e)},useUpdateSettings:async()=>{a({type:"UPDATE_SETTINGS_BEFORE",payload:{isPending:!0}});const e={openai_key:t.stateSettings.openai_key,on_upload_alt_text:t.stateSettings.on_upload_alt_text,all_alt_text:t.stateSettings.all_alt_text,prompt:t.stateSettings.prompt,language:t.stateSettings.language};try{const t=await(async e=>{try{const t=await s()({path:"wp/v2/settings",method:"POST",data:{aatg_text_generator_options:e}});return t&&t.aatg_text_generator_options?t.aatg_text_generator_options:t}catch(e){return console.error("updateSettings Errors:",e),{ai_alt_text_generator_options_update_settings_errors:!0,error:e.message}}})(e);a({type:"UPDATE_SETTINGS",payload:{fetchedSettings:t,stateSettings:t}})}catch(e){console.error("Update settings error:",e)}},useFetchSettings:n,useUpdateState:r,useUpdateStateSettings:(e,a)=>{let n={...t.stateSettings};n[e]=a;const l=!(0,o.isEqual)(n,t.fetchedSettings);r({stateSettings:n,canSave:l})},useSettings:t.stateSettings,useIsPending:t.isPending,useNotice:t.notice,useHasError:t.hasError,useCanSave:t.canSave};return(0,h.jsx)(d.Provider,{value:i,children:e.children})};function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(p||(p={}));const m="popstate";function f(e,t){if(!1===e||null==e)throw new Error(t)}function x(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function y(e,t,a,n){return void 0===a&&(a=null),v({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?_(t):t,{state:a,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function S(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function _(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var w;function E(e,t,a){return void 0===a&&(a="/"),function(e,t,a,n){let r=F(("string"==typeof t?_(t):t).pathname||"/",a);if(null==r)return null;let l=j(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,a)=>e===t[a]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(l);let o=null;for(let e=0;null==o&&e<l.length;++e){let t=D(r);o=L(l[e],t,n)}return o}(e,t,a,!1)}function j(e,t,a,n){void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===n&&(n="");let r=(e,r,l)=>{let o={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(f(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let i=$([n,o.relativePath]),s=a.concat(o);e.children&&e.children.length>0&&(f(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),j(e.children,t,s,i)),(null!=e.path||e.index)&&t.push({path:i,score:B(i,e.index),routesMeta:s})};return e.forEach(((e,t)=>{var a;if(""!==e.path&&null!=(a=e.path)&&a.includes("?"))for(let a of C(e.path))r(e,t,a);else r(e,t)})),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[a,...n]=t,r=a.endsWith("?"),l=a.replace(/\?$/,"");if(0===n.length)return r?[l,""]:[l];let o=C(n.join("/")),i=[];return i.push(...o.map((e=>""===e?l:[l,e].join("/")))),r&&i.push(...o),i.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(w||(w={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const P=/^:[\w-]+$/,T=3,R=2,k=1,O=10,N=-2,U=e=>"*"===e;function B(e,t){let a=e.split("/"),n=a.length;return a.some(U)&&(n+=N),t&&(n+=R),a.filter((e=>!U(e))).reduce(((e,t)=>e+(P.test(t)?T:""===t?k:O)),n)}function L(e,t,a){void 0===a&&(a=!1);let{routesMeta:n}=e,r={},l="/",o=[];for(let e=0;e<n.length;++e){let i=n[e],s=e===n.length-1,u="/"===l?t:t.slice(l.length)||"/",c=A({path:i.relativePath,caseSensitive:i.caseSensitive,end:s},u),h=i.route;if(!c&&s&&a&&!n[n.length-1].route.index&&(c=A({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},u)),!c)return null;Object.assign(r,c.params),o.push({params:r,pathname:$([l,c.pathname]),pathnameBase:H($([l,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(l=$([l,c.pathnameBase]))}return o}function A(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=function(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!0),x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,a)=>(n.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let l=r[0],o=l.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:n.reduce(((e,t,a)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=i[a]||"";o=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const s=i[a];return e[n]=r&&!s?void 0:(s||"").replace(/%2F/g,"/"),e}),{}),pathname:l,pathnameBase:o,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return x(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}function I(e,t,a,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+a+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function W(e,t){let a=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?a.map(((e,t)=>t===a.length-1?e.pathname:e.pathnameBase)):a.map((e=>e.pathnameBase))}function M(e,t,a,n){let r;void 0===n&&(n=!1),"string"==typeof e?r=_(e):(r=v({},e),f(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),f(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),f(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let l,o=""===e||""===r.pathname,i=o?"/":r.pathname;if(null==i)l=a;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}l=e>=0?t[e]:"/"}let s=function(e,t){void 0===t&&(t="/");let{pathname:a,search:n="",hash:r=""}="string"==typeof e?_(e):e,l=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)})),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:l,search:G(n),hash:z(r)}}(r,l),u=i&&"/"!==i&&i.endsWith("/"),c=(o||"."===i)&&a.endsWith("/");return s.pathname.endsWith("/")||!u&&!c||(s.pathname+="/"),s}const $=e=>e.join("/").replace(/\/\/+/g,"/"),H=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const J=["post","put","patch","delete"],K=(new Set(J),["get",...J]);function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},V.apply(this,arguments)}new Set(K),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const q=l.createContext(null),X=l.createContext(null),Q=l.createContext(null),Y=l.createContext(null),Z=l.createContext({outlet:null,matches:[],isDataRoute:!1}),ee=l.createContext(null);function te(){return null!=l.useContext(Y)}function ae(){return te()||f(!1),l.useContext(Y).location}function ne(e){l.useContext(Q).static||l.useLayoutEffect(e)}function re(){let{isDataRoute:e}=l.useContext(Z);return e?function(){let{router:e}=function(){let e=l.useContext(q);return e||f(!1),e}(he.UseNavigateStable),t=pe(de.UseNavigateStable),a=l.useRef(!1);return ne((()=>{a.current=!0})),l.useCallback((function(n,r){void 0===r&&(r={}),a.current&&("number"==typeof n?e.navigate(n):e.navigate(n,V({fromRouteId:t},r)))}),[e,t])}():function(){te()||f(!1);let e=l.useContext(q),{basename:t,future:a,navigator:n}=l.useContext(Q),{matches:r}=l.useContext(Z),{pathname:o}=ae(),i=JSON.stringify(W(r,a.v7_relativeSplatPath)),s=l.useRef(!1);return ne((()=>{s.current=!0})),l.useCallback((function(a,r){if(void 0===r&&(r={}),!s.current)return;if("number"==typeof a)return void n.go(a);let l=M(a,JSON.parse(i),o,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:$([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)}),[t,n,i,o,e])}()}function le(e,t){let{relative:a}=void 0===t?{}:t,{future:n}=l.useContext(Q),{matches:r}=l.useContext(Z),{pathname:o}=ae(),i=JSON.stringify(W(r,n.v7_relativeSplatPath));return l.useMemo((()=>M(e,JSON.parse(i),o,"path"===a)),[e,i,o,a])}function oe(e,t,a,n){te()||f(!1);let{navigator:r}=l.useContext(Q),{matches:o}=l.useContext(Z),i=o[o.length-1],s=i?i.params:{},u=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let c,h=ae();if(t){var d;let e="string"==typeof t?_(t):t;"/"===u||(null==(d=e.pathname)?void 0:d.startsWith(u))||f(!1),c=e}else c=h;let g=c.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=E(e,{pathname:v}),x=function(e,t,a,n){var r;if(void 0===t&&(t=[]),void 0===a&&(a=null),void 0===n&&(n=null),null==e){var o;if(null==(o=a)||!o.errors)return null;e=a.matches}let i=e,s=null==(r=a)?void 0:r.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id])));e>=0||f(!1),i=i.slice(0,Math.min(i.length,e+1))}let u=!1,c=-1;if(a&&n&&n.v7_partialHydration)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:n}=a,r=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){u=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight(((e,n,r)=>{let o,h=!1,d=null,p=null;var g;a&&(o=s&&n.route.id?s[n.route.id]:void 0,d=n.route.errorElement||se,u&&(c<0&&0===r?(ge[g="route-fallback"]||(ge[g]=!0),h=!0,p=null):c===r&&(h=!0,p=n.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,r+1)),m=()=>{let t;return t=o?d:h?p:n.route.Component?l.createElement(n.route.Component,null):n.route.element?n.route.element:e,l.createElement(ce,{match:n,routeContext:{outlet:e,matches:v,isDataRoute:null!=a},children:t})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===r)?l.createElement(ue,{location:a.location,revalidation:a.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()}),null)}(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:$([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:$([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,a,n);return t&&x?l.createElement(Y.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:p.Pop}},x):x}function ie(){let e=function(){var e;let t=l.useContext(ee),a=function(){let e=l.useContext(X);return e||f(!1),e}(de.UseRouteError),n=pe(de.UseRouteError);return void 0!==t?t:null==(e=a.errors)?void 0:e[n]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),a?l.createElement("pre",{style:n},a):null,null)}const se=l.createElement(ie,null);class ue extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?l.createElement(Z.Provider,{value:this.props.routeContext},l.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:a,children:n}=e,r=l.useContext(q);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),l.createElement(Z.Provider,{value:t},n)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function pe(e){let t=function(){let e=l.useContext(Z);return e||f(!1),e}(),a=t.matches[t.matches.length-1];return a.route.id||f(!1),a.route.id}const ge={};function ve(e){let{to:t,replace:a,state:n,relative:r}=e;te()||f(!1);let{future:o,static:i}=l.useContext(Q),{matches:s}=l.useContext(Z),{pathname:u}=ae(),c=re(),h=M(t,W(s,o.v7_relativeSplatPath),u,"path"===r),d=JSON.stringify(h);return l.useEffect((()=>c(JSON.parse(d),{replace:a,state:n,relative:r})),[c,d,r,a,n]),null}function me(e){f(!1)}function fe(e){let{basename:t="/",children:a=null,location:n,navigationType:r=p.Pop,navigator:o,static:i=!1,future:s}=e;te()&&f(!1);let u=t.replace(/^\/*/,"/"),c=l.useMemo((()=>({basename:u,navigator:o,static:i,future:V({v7_relativeSplatPath:!1},s)})),[u,s,o,i]);"string"==typeof n&&(n=_(n));let{pathname:h="/",search:d="",hash:g="",state:v=null,key:m="default"}=n,x=l.useMemo((()=>{let e=F(h,u);return null==e?null:{location:{pathname:e,search:d,hash:g,state:v,key:m},navigationType:r}}),[u,h,d,g,v,m,r]);return null==x?null:l.createElement(Q.Provider,{value:c},l.createElement(Y.Provider,{children:a,value:x}))}function xe(e){let{children:t,location:a}=e;return oe(be(t),a)}function be(e,t){void 0===t&&(t=[]);let a=[];return l.Children.forEach(e,((e,n)=>{if(!l.isValidElement(e))return;let r=[...t,n];if(e.type===l.Fragment)return void a.push.apply(a,be(e.props.children,r));e.type!==me&&f(!1),e.props.index&&e.props.children&&f(!1);let o={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,r)),a.push(o)})),a}l.startTransition,new Promise((()=>{})),l.Component;var ye=a(795);function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Se.apply(this,arguments)}function _e(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ee=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];try{window.__reactRouterVersion="6"}catch(e){}const je=l.createContext({isTransitioning:!1});new Map;const Ce=l.startTransition;function Pe(e){let{basename:t,children:a,future:n,window:r}=e,o=l.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:r,v5Compat:!0})&&(i={}),function(e,t,a,n){void 0===n&&(n={});let{window:r=document.defaultView,v5Compat:l=!1}=n,o=r.history,i=p.Pop,s=null,u=c();function c(){return(o.state||{idx:null}).idx}function h(){i=p.Pop;let e=c(),t=null==e?null:e-u;u=e,s&&s({action:i,location:g.location,delta:t})}function d(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,a="string"==typeof e?e:S(e);return a=a.replace(/ $/,"%20"),f(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}null==u&&(u=0,o.replaceState(v({},o.state,{idx:u}),""));let g={get action(){return i},get location(){return e(r,o)},listen(e){if(s)throw new Error("A history only accepts one active listener");return r.addEventListener(m,h),s=e,()=>{r.removeEventListener(m,h),s=null}},createHref(e){return t(r,e)},createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i=p.Push;let n=y(g.location,e,t);a&&a(n,e),u=c()+1;let h=b(n,u),d=g.createHref(n);try{o.pushState(h,"",d)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;r.location.assign(d)}l&&s&&s({action:i,location:g.location,delta:1})},replace:function(e,t){i=p.Replace;let n=y(g.location,e,t);a&&a(n,e),u=c();let r=b(n,u),h=g.createHref(n);o.replaceState(r,"",h),l&&s&&s({action:i,location:g.location,delta:0})},go(e){return o.go(e)}};return g}((function(e,t){let{pathname:a="/",search:n="",hash:r=""}=_(e.location.hash.substr(1));return a.startsWith("/")||a.startsWith(".")||(a="/"+a),y("",{pathname:a,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let a=e.document.querySelector("base"),n="";if(a&&a.getAttribute("href")){let t=e.location.href,a=t.indexOf("#");n=-1===a?t:t.slice(0,a)}return n+"#"+("string"==typeof t?t:S(t))}),(function(e,t){x("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),i)));let s=o.current,[u,c]=l.useState({action:s.action,location:s.location}),{v7_startTransition:h}=n||{},d=l.useCallback((e=>{h&&Ce?Ce((()=>c(e))):c(e)}),[c,h]);return l.useLayoutEffect((()=>s.listen(d)),[s,d]),l.createElement(fe,{basename:t,children:a,location:u.location,navigationType:u.action,navigator:s,future:n})}ye.flushSync,l.useId;const Te="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=l.forwardRef((function(e,t){let a,{onClick:n,relative:r,reloadDocument:o,replace:i,state:s,target:u,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,p=_e(e,we),{basename:g}=l.useContext(Q),v=!1;if("string"==typeof c&&Re.test(c)&&(a=c,Te))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),a=F(t.pathname,g);t.origin===e.origin&&null!=a?c=a+t.search+t.hash:v=!0}catch(e){}let m=function(e,t){let{relative:a}=void 0===t?{}:t;te()||f(!1);let{basename:n,navigator:r}=l.useContext(Q),{hash:o,pathname:i,search:s}=le(e,{relative:a}),u=i;return"/"!==n&&(u="/"===i?n:$([n,i])),r.createHref({pathname:u,search:s,hash:o})}(c,{relative:r}),x=function(e,t){let{target:a,replace:n,state:r,preventScrollReset:o,relative:i,unstable_viewTransition:s}=void 0===t?{}:t,u=re(),c=ae(),h=le(e,{relative:i});return l.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,a)){t.preventDefault();let a=void 0!==n?n:S(c)===S(h);u(e,{replace:a,state:r,preventScrollReset:o,relative:i,unstable_viewTransition:s})}}),[c,u,h,n,r,a,e,o,i,s])}(c,{replace:i,state:s,target:u,preventScrollReset:h,relative:r,unstable_viewTransition:d});return l.createElement("a",Se({},p,{href:a||m,onClick:v||o?n:function(e){n&&n(e),e.defaultPrevented||x(e)},ref:t,target:u}))})),Oe=l.forwardRef((function(e,t){let{"aria-current":a="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,unstable_viewTransition:u,children:c}=e,h=_e(e,Ee),d=le(s,{relative:h.relative}),p=ae(),g=l.useContext(X),{navigator:v,basename:m}=l.useContext(Q),x=null!=g&&function(e,t){void 0===t&&(t={});let a=l.useContext(je);null==a&&f(!1);let{basename:n}=function(){let e=l.useContext(q);return e||f(!1),e}(Ne.useViewTransitionState),r=le(e,{relative:t.relative});if(!a.isTransitioning)return!1;let o=F(a.currentLocation.pathname,n)||a.currentLocation.pathname,i=F(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=A(r.pathname,i)||null!=A(r.pathname,o)}(d)&&!0===u,b=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,y=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(y=y.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&m&&(S=F(S,m)||S);const _="/"!==b&&b.endsWith("/")?b.length-1:b.length;let w,E=y===b||!o&&y.startsWith(b)&&"/"===y.charAt(_),j=null!=S&&(S===b||!o&&S.startsWith(b)&&"/"===S.charAt(b.length)),C={isActive:E,isPending:j,isTransitioning:x},P=E?a:void 0;w="function"==typeof r?r(C):[r,E?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T="function"==typeof i?i(C):i;return l.createElement(ke,Se({},h,{"aria-current":P,className:w,ref:t,style:T,to:s,unstable_viewTransition:u}),"function"==typeof c?c(C):c)}));var Ne,Ue;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ne||(Ne={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ue||(Ue={})),window.wp.url;var Be=({value:e})=>(0,h.jsxs)("div",{className:"progress-bar",children:[(0,h.jsx)("div",{className:"progress-bar-inner",style:{width:`${e}%`}}),(0,h.jsx)("style",{children:"\n        .progress-bar {\n          width: 100%;\n          background-color: #eee;\n          border-radius: 2px;\n          overflow: hidden;\n          max-width: 500px;\n        }\n        .progress-bar-inner {\n          height: 10px;\n          background-color: green;\n          transition: width 0.4s ease;\n        }\n      "})]}),Le=()=>{const{useSettings:e,useUpdateStateSettings:t}=(0,n.useContext)(d),[a,l]=(0,n.useState)(!1),[o,i]=(0,n.useState)({total:0,current:0}),[c,p]=(0,n.useState)(""),[g,v]=(0,n.useState)(""),[m,f]=(0,n.useState)(e&&e.all_alt_text),[x,b]=(0,n.useState)(e&&e.on_upload_alt_text),[y,S]=(0,n.useState)(e&&e.prompt),[_,w]=(0,n.useState)(e&&e.language||"english"),E=e&&e.openai_key;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.Card,{children:(0,h.jsxs)(r.CardBody,{children:[(0,h.jsx)(r.TextControl,{label:(0,u.__)("OpenAi Key","ai-alt-text-generator"),placeholder:(0,u.__)("Enter key here","ai-alt-text-generator"),value:E,onChange:e=>t("openai_key",e)}),(0,h.jsx)("a",{href:"https://help.openai.com/en/articles/4936850-where-do-i-find-my-openai-api-key",target:"_blank",rel:"noreferrer noopener",children:(0,u.__)("Get help for the OpenAI key here","ai-alt-text-generator")}),(0,h.jsx)(r.__experimentalSpacer,{marginTop:"8",marginBottom:"8",style:{width:"300px"},children:(0,h.jsx)(r.SelectControl,{label:(0,u.__)("Language","ai-alt-text-generator"),value:_,options:[{label:"Albanian",value:"albanian"},{label:"Amharic",value:"amharic"},{label:"Arabic",value:"arabic"},{label:"Armenian",value:"armenian"},{label:"Bengali",value:"bengali"},{label:"Bosnian",value:"bosnian"},{label:"Bulgarian",value:"bulgarian"},{label:"Burmese",value:"burmese"},{label:"Catalan",value:"catalan"},{label:"Chinese",value:"chinese"},{label:"Croatian",value:"croatian"},{label:"Czech",value:"czech"},{label:"Danish",value:"danish"},{label:"Dutch",value:"dutch"},{label:"English",value:"english"},{label:"Estonian",value:"estonian"},{label:"Finnish",value:"finnish"},{label:"French",value:"french"},{label:"Georgian",value:"georgian"},{label:"German",value:"german"},{label:"Greek",value:"greek"},{label:"Gujarati",value:"gujarati"},{label:"Hindi",value:"hindi"},{label:"Hungarian",value:"hungarian"},{label:"Icelandic",value:"icelandic"},{label:"Indonesian",value:"indonesian"},{label:"Italian",value:"italian"},{label:"Japanese",value:"japanese"},{label:"Kannada",value:"kannada"},{label:"Kazakh",value:"kazakh"},{label:"Korean",value:"korean"},{label:"Latvian",value:"latvian"},{label:"Lithuanian",value:"lithuanian"},{label:"Macedonian",value:"macedonian"},{label:"Malay",value:"malay"},{label:"Malayalam",value:"malayalam"},{label:"Marathi",value:"marathi"},{label:"Mongolian",value:"mongolian"},{label:"Norwegian",value:"norwegian"},{label:"Persian",value:"persian"},{label:"Polish",value:"polish"},{label:"Portuguese",value:"portuguese"},{label:"Punjabi",value:"punjabi"},{label:"Romanian",value:"romanian"},{label:"Russian",value:"russian"},{label:"Serbian",value:"serbian"},{label:"Slovak",value:"slovak"},{label:"Slovenian",value:"slovenian"},{label:"Somali",value:"somali"},{label:"Spanish",value:"spanish"},{label:"Swahili",value:"swahili"},{label:"Swedish",value:"swedish"},{label:"Tagalog",value:"tagalog"},{label:"Tamil",value:"tamil"},{label:"Telugu",value:"telugu"},{label:"Thai",value:"thai"},{label:"Turkish",value:"turkish"},{label:"Ukrainian",value:"ukrainian"},{label:"Urdu",value:"urdu"},{label:"Vietnamese",value:"vietnamese"}],onChange:e=>{w(e),t("language",e)}})}),(0,h.jsx)(r.__experimentalSpacer,{marginTop:"8",marginBottom:"8"}),(0,h.jsx)(r.TextareaControl,{label:(0,u.__)("Custom Prompt","ai-alt-text-generator"),placeholder:(0,u.__)("Enter your prompt here","ai-alt-text-generator"),value:y,onChange:e=>{S(e),t("prompt",e)},rows:6}),(0,h.jsx)(r.__experimentalSpacer,{marginTop:"8",marginBottom:"8",children:(0,h.jsx)(r.ToggleControl,{label:(0,u.__)("Automatically add alt text on new image uploads","ai-alt-text-generator"),checked:x,onChange:()=>{b(!x),t("on_upload_alt_text",!x)}})})]})}),(0,h.jsxs)(r.Card,{children:[(0,h.jsxs)(r.CardBody,{children:[(0,h.jsx)(r.__experimentalSpacer,{marginBottom:"8",children:(0,h.jsx)(r.__experimentalHeading,{size:"20",children:(0,u.__)("Bulk Alt Generation","ai-alt-text-generator")})}),(0,h.jsx)(r.ToggleControl,{label:(0,u.__)("Include images already having alt texts","ai-alt-text-generator"),checked:m,onChange:()=>{f(!m),t("all_alt_text",!m)}}),(0,h.jsxs)(r.__experimentalSpacer,{children:[a&&(0,h.jsx)(r.Spinner,{}),(0,h.jsx)(r.Button,{variant:"primary",onClick:async()=>{l(!0),p(""),v("");try{const e=await(async()=>{try{return"scheduled"===(await s()({path:"/ai-alt-text-generator/v1/start-processing",method:"POST"})).status?{status:"success",message:"Processing scheduled successfully."}:{status:"error",message:"Failed to schedule processing."}}catch(e){throw new Error("Error scheduling processing: "+e.message)}})();"success"===e.status?v(e.message):p(e.message)}catch(e){p("Error during processing: "+e.message)}finally{l(!1)}},disabled:a,children:(0,u.__)("Process Media","ai-alt-text-generator")})]}),g&&(0,h.jsx)(r.__experimentalSpacer,{children:(0,h.jsx)(r.__experimentalText,{children:g})})]}),a&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(r.__experimentalSpacer,{marginTop:"8",marginBottom:"8",children:[(0,h.jsx)(Be,{value:o}),(0,h.jsx)(r.__experimentalSpacer,{marginTop:"8",children:(0,h.jsx)(r.Button,{variant:"secondary",onClick:()=>{l(!1)},children:(0,u.__)("Stop Processing","ai-alt-text-generator")})})]})})]}),c&&(0,h.jsx)(r.Notice,{status:"error",isDismissible:!0,children:c})]})},Ae=()=>{const{useNotice:e,useHasError:t,useUpdateState:a}=(0,n.useContext)(d);function l(){a({notice:"",hasError:!1})}return(0,n.useEffect)((()=>{const e=setTimeout((()=>{l()}),5e3);return()=>clearTimeout(e)}),[]),(0,h.jsx)(r.Popover,{className:"ai-alt-text-generator-popover",children:(0,h.jsx)(r.Notice,{className:"ai-alt-text-generator-notice",onRemove:()=>l(),status:t?"error":"success",children:(0,h.jsx)("p",{children:e})})})};const De=[{to:"general",title:(0,u.__)("General","ai-alt-text-generator")}];var Fe=({to:e,title:t})=>(0,h.jsx)("li",{children:(0,h.jsx)(Oe,{to:e,className:({isActive:e})=>e?"ai-alt-text-generator-nav-active":void 0,children:t})}),Ie=()=>(0,h.jsx)("nav",{className:"ai-alt-text-generator-navigation",children:(0,h.jsx)("ul",{className:"at-flex",children:De.map((function(e){return(0,h.jsx)(Fe,{to:e.to,title:e.title})}))})}),We=({to:e,title:t})=>{const{useUpdateSettings:a,useIsPending:l,useCanSave:o}=(0,n.useContext)(d);return(0,h.jsxs)(r.Button,{className:"button",onClick:()=>a(),variant:"primary",disabled:l||!o,children:[o?(0,u.__)("Save Settings","ai-alt-text-generator"):(0,u.__)("Saved","ai-alt-text-generator"),l?(0,h.jsx)(r.Spinner,{}):""]})},Me=()=>{const{useIsPending:e,useNotice:t}=(0,n.useContext)(d);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("header",{className:"ai-alt-text-generator-header ai-alt-text-generator-header-sticky",children:(0,h.jsxs)("div",{className:"at-flex at-align-items-center at-justify-content-between",children:[(0,h.jsx)("div",{className:"ai-alt-text-generator-title",children:(0,h.jsx)("h1",{children:(0,u.__)("Settings","ai-alt-text-generator")})}),(0,h.jsx)("div",{className:"ai-alt-text-generator-button",children:(0,h.jsx)(We,{})})]})}),t&&!e&&(0,h.jsx)(Ae,{}),(0,h.jsx)(Ie,{})]})},$e=()=>(0,h.jsx)("footer",{className:"ai-alt-text-generator-footer",children:(0,h.jsx)("p",{children:"WP React Plugin Boilerplate"})}),He=a(338);const Ge=()=>{const{useSettings:e}=(0,n.useContext)(d);return Object.keys(e).length?(0,h.jsxs)("div",{className:"ai-alt-text-generator",children:[(0,h.jsx)(Me,{}),(0,h.jsx)("main",{className:"ai-alt-text-generator-main",children:(0,h.jsxs)(xe,{children:[(0,h.jsx)(me,{path:"/general",element:(0,h.jsx)(Le,{})}),(0,h.jsx)(me,{path:"/",element:(0,h.jsx)(ve,{replace:!0,to:"/general"})})]})}),(0,h.jsx)($e,{})]}):(0,h.jsx)(r.Spinner,{className:"ai-alt-text-generator-page-loader"})},ze=()=>(0,h.jsx)(Pe,{basename:"/",children:(0,h.jsx)(g,{children:(0,h.jsx)(Ge,{})})});document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById(wpReactPluginBoilerplateBuild.root_id);e?(console.log("Rendering InitSettings into root element"),(0,He.H)(e).render((0,h.jsx)(ze,{}))):console.error("Root element not found:",wpReactPluginBoilerplateBuild.root_id)}))},338:function(e,t,a){var n=a(795);t.H=n.createRoot,n.hydrateRoot},795:function(e){e.exports=window.ReactDOM}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=function(t,a,r,l){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],r=e[c][1],l=e[c][2];for(var i=!0,s=0;s<a.length;s++)(!1&l||o>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(i=!1,l<o&&(o=l));if(i){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,r,l]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={472:0,257:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,l,o=a[0],i=a[1],s=a[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(s)var c=s(n)}for(t&&t(a);u<o.length;u++)l=o[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},a=self.webpackChunkai_alt_text_generator=self.webpackChunkai_alt_text_generator||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var r=n.O(void 0,[257],(function(){return n(480)}));r=n.O(r)}();